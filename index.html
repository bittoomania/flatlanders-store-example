<!DOCTYPE html>
<html lang="en" ng-app="gemStore">
<head>
	<meta charset="UTF-8">
	<title>Flatlander's Store</title>
	<script src="bower_components/angular/angular.min.js"></script>
	<script src="js/app.js"></script>

	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
	<link rel="stylesheet" type="text/css" href="css/app.css">
</head>
<body>
	<div class="container">
		<h1>Flatlander's Store</h1>
		<div class="product row" ng-controller="StoreController as store">
			<div class="col-xs-12" ng-repeat="product in store.products">
				<!-- Product Container -->
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h3 class="panel-title">
						{{product.name}}
						<span class="pull-right">{{product.price | currency}}</span>
						</h3>
					</div>
					<div class="panel-body">
						<!-- Image Gallery -->
						<div class="gallery" ng-show="product.images.length > 0" ng-controller="GalleryController as gallery">
							<div class="img-wrap">
								<img ng-src="{{product.images[gallery.current]}}" alt="Product">
							</div>
							<ul class="img-thumbnails clearfix">
								<li ng-repeat="image in product.images" class="small-img thumbnail pull-left">
									<img ng-src="{{image}}" alt="image">
								</li>
							</ul>
						</div>
						<!-- End: Image Gallery -->

						<!-- Tabs -->
						<section class="tab" ng-controller="TabsController as tab">
							<ul class="nav nav-pills">
								<li ng-class="{'active':tab.isSet(1)}">
									<a ng-click="tab.setTab(1)">Description</a>
								</li>
								<li ng-class="{'active':tab.isSet(2)}">
									<a ng-click="tab.setTab(2)">Specs</a>
								</li>
								<li ng-class="{'active':tab.isSet(3)}">
									<a ng-click="tab.setTab(3)">Reviews</a>
								</li>
							</ul>

							<div ng-show="tab.isSet(1)">
								<h4>Description</h4>
								<blockquote>{{product.description}}</blockquote>
							</div>
							<div ng-show="tab.isSet(2)">
								<h4>Specs</h4>
								<blockquote>Shine: {{product.shine}}</blockquote>
							</div>
							<div ng-show="tab.isSet(3)">
								<h4>Reviews</h4>
								<li ng-repeat="review in product.reviews">
									<blockquote>
										<strong>{{review.stars}} Stars</strong>
										{{review.body}}
										<cite class="clearfix">—{{review.author}}</cite>
									</blockquote>
								</li>

								<!--  Review Form -->
								<h4>Submit a Review</h4>
								<form name="reviewForm" ng-controller="ReviewController as reviewCtrl" ng-submit="reviewCtrl.addReview(product)">
									<!--  Live Preview -->
									<blockquote>
									<strong>{{reviewCtrl.review.stars}} Stars</strong>
										{{reviewCtrl.review.body}}
									<cite class="clearfix">—{{reviewCtrl.review.author}}</cite>
									</blockquote>
									<!-- End: Live Preview -->
									<fieldset class="form-group">
										<select class="form-control" ng-options="stars for stars in [5,4,3,2,1]"  title="Stars" ng-model="reviewCtrl.review.stars">
										<option value="">Rate the Product</option>
										</select>
									</fieldset>
									<fieldset class="form-group">
										<textarea class="form-control" placeholder="Write a short review of the product..." title="Review" ng-model="reviewCtrl.review.body"></textarea>
									</fieldset>
									<fieldset class="form-group">
										<input type="email" class="form-control" placeholder="jimmyDean@example.org" title="Email" ng-model="reviewCtrl.review.author" />
									</fieldset>
									<fieldset class="form-group">
										<input type="submit" class="btn btn-primary pull-right" value="Submit Review" />
									</fieldset>
								</form>
								<!-- End: Review Form -->

							</div>
						</section>
						<!-- End: Tabs -->
						<button ng-show="product.canPurchase">Add to Cart</button>
					</div>
				</div>
				<!-- End: Product Container -->
			</div>
		</div>
	</div>
</body>
</html>